{% extends "app/layout.html" %}

{% block content %}
<div>
    <div class="row">
        <div class="col l3">
            <ul class="collection with-header">
                <li class="collection-header"><h6>Modules</h6></li>
                {% for m in modules %}
                <li class="collection-item">
                    <label>
                        <input type="checkbox" checked="checked"/>
                        <span>{{ m }}</span>
                    </label>
                </li>
                {% endfor %}
            </ul>
        </div>
        <table class="col l9">
            <thead>
            <tr>
                <th scope="col">Type</th>
                <th scope="col">Module</th>
                <th scope="col">Time</th>
                <th scope="col">Duration</th>
                <th scope="col">Location</th>
                <th scope="col">Attendance Rate</th>
            </tr>
            </thead>
            <tbody>
            {% for s in sessions %}
            <tr>
                <td>
                    <span class="badge">{{ s.get_type_display }}</span>
                </td>
                <td><a href="{% url 'module_detail' s.module.pk %}" title="">{{ s.module }}</a></td>
                <td><a href="{% url 'session_detail' s.pk %}">{{ s.time }}</a></td>
                <td>{{ s.duration }}</td>
                <td>{{ s.place }}</td>
                <td>
                    {% if s.attendance_rate %}
                    <div class="progress">
                        <div class="determinate" style="width: {%widthratio s.attendance_rate 1 100 %}% "></div>
                    </div>
                    {% else %}
                    <a class="waves-effect waves-light btn-floating" href="{% url 'session_taking_attendance' s.pk %}"><i class="material-icons left">assignment_turned_in</i></a>
                    <a class="waves-effect waves-light btn-floating" href="{% url 'session_download_attendance_sheet' s.pk %}"><i class="material-icons left">attach_file</i></a>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}